version: 2

models:
  - name: user_acquisition_first_user_source_medium_report
    description: >
      GA4 User Acquisition Report by First User Source and Medium. This report provides insights on how new users 
      are acquired based on the first user medium and source, with engagement metrics and total revenue.
    
    columns:
      - name: _fivetran_id
        description: Unique Fivetran ID for identifying rows.
        tests:
          - unique
          - not_null

      - name: date
        description: Date the report was generated.

      - name: property
        description: GA4 property associated with the report.

      - name: _fivetran_synced
        description: Timestamp when this row was synced by Fivetran.

      - name: engaged_sessions
        description: The number of sessions where event_name = 'user_engagement', when the app is in the foreground or webpage is in focus for at least one second.

      - name: engagement_rate
        description: The ratio of engaged sessions to total sessions.

      - name: event_count
        description: The total number of events recorded.

      - name: first_user_medium
        description: The medium (e.g., organic, paid) through which the user was first acquired.

      - name: first_user_source
        description: The source (e.g., google, facebook) through which the user was first acquired.

      - name: key_events
        description: Important events in the user's journey.

      - name: new_users
        description: The number of users who were acquired for the first time.

      - name: total_revenue
        description: The total revenue generated by the users in this report.

      - name: total_users
        description: The total number of users in the report.

      - name: user_engagement_duration
        description: Total time users engaged with the app or website. Sum of total engagement time in seconds for where event_name = 'user_engagement', when the app is in the foreground or webpage is in focus for at least one second.

  - name: traffic_acquisition_session_source_medium_report
    description: >
      GA4 Traffic Acquisition Report by Session Source and Medium. This report tracks user sessions, events, 
      and total revenue by session source and medium, offering insights into which traffic sources drive user engagement.
    
    columns:
      - name: _fivetran_id
        description: Unique Fivetran ID for identifying rows.
        tests:
          - unique
          - not_null

      - name: date
        description: Date the report was generated.

      - name: property
        description: GA4 property associated with the report.

      - name: _fivetran_synced
        description: Timestamp when this row was synced by Fivetran.

      - name: engaged_sessions
        description: The number of sessions where event_name = 'user_engagement', when the app is in the foreground or webpage is in focus for at least one second.

      - name: engagement_rate
        description: The ratio of engaged sessions to total sessions.

      - name: event_count
        description: The total number of events recorded.

      - name: events_per_session
        description: Average number of events per session.

      - name: key_events
        description: Important events during sessions.

      - name: session_medium
        description: The medium (e.g., organic, paid) through which the session was acquired.

      - name: session_source
        description: The source (e.g., google, facebook) through which the session was acquired.

      - name: sessions
        description: The total number of sessions recorded.

      - name: total_revenue
        description: Total revenue generated during these sessions.

      - name: total_users
        description: The total number of users in these sessions.

      - name: user_engagement_duration
        description: Total time users engaged with the app or website. Sum of total engagement time in seconds for where event_name = 'user_engagement', when the app is in the foreground or webpage is in focus for at least one second.

  - name: events_report
    description: >
      GA4 Events Report that tracks interactions (events) across the app or website, summarizing event counts, 
      total revenue generated from events, and user engagement.
    
    columns:
      - name: _fivetran_id
        description: Unique Fivetran ID for identifying rows.
        tests:
          - unique
          - not_null

      - name: date
        description: Date the report was generated.

      - name: property
        description: GA4 property associated with the report.

      - name: _fivetran_synced
        description: Timestamp when this row was synced by Fivetran.

      - name: event_count
        description: The total number of events recorded.

      - name: event_count_per_user
        description: Average number of events per user.

      - name: event_name
        description: The name of the event recorded (e.g., purchase, page_view).

      - name: total_revenue
        description: Total revenue generated from events.

      - name: total_users
        description: The total number of users associated with these events.

  - name: conversions_report
    description: >
      GA4 Conversions Report that tracks conversion events, total revenue, and key events, providing insights 
      into user conversion behavior and performance.
    
    columns:
      - name: _fivetran_id
        description: Unique Fivetran ID for identifying rows.
        tests:
          - unique
          - not_null

      - name: date
        description: Date the report was generated.

      - name: property
        description: GA4 property associated with the report.

      - name: _fivetran_synced
        description: Timestamp when this row was synced by Fivetran.

      - name: event_name
        description: The name of the conversion event recorded (e.g., purchase, sign_up).

      - name: key_events
        description: Important conversion-related events in the user's journey.

      - name: total_revenue
        description: Total revenue generated from conversion events.

      - name: total_users
        description: The total number of users who converted.


name : engaged_sessions
description: event_name: user_engagement when the app is in the foreground or webpage is in focus for at least one second.


total_revenue
sum of ecommerce_purchase_revenue() Purchase revenue of this event, represented in local currency with standard unit.)